[ {
  "active" : true,
  "code" : "INFRASTRUCTURE",
  "description" : "Infrastructure management",
  "license" : "GPL",
  "currentVersion" : "1.25",
  "meveoVersionBase" : "6.9.0",
  "transient" : true,
  "codeOnly" : false,
  "inDraft" : true,
  "moduleItems" : [ {
    "dtoClassName" : "org.meveo.api.dto.CustomEntityCategoryDto",
    "dtoData" : {
      "code" : "INFRA",
      "name" : "INFRA"
    }
  }, {
    "dtoClassName" : "org.meveo.api.dto.ScriptInstanceDto",
    "dtoData" : {
      "active" : true,
      "code" : "org.meveo.script.ScalewayServerCreationScript",
      "description" : "create scaleway server",
      "inputs" : [ ],
      "outputs" : [ {
        "name" : "entityClass",
        "type" : "Class<SERVER>",
        "description" : null
      } ],
      "generateOutputs" : false,
      "type" : "JAVA",
      "transactionType" : "SAME",
      "script" : "package org.meveo.script;\r\n\r\nimport java.util.Map;\r\n\r\nimport org.meveo.service.script.Script;\r\nimport org.meveo.admin.exception.BusinessException;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.meveo.service.storage.RepositoryService;\r\nimport org.meveo.api.persistence.CrossStorageApi;\r\nimport org.meveo.model.customEntities.SERVER;\r\nimport org.meveo.model.customEntities.CrudEventListenerScript;\r\n\r\npublic class ScalewayServerCreationScript extends Script implements CrudEventListenerScript<SERVER> {\r\n    private static final Logger log = LoggerFactory.getLogger(ScalewayServerCreationScript.class);\r\n\r\n\tprivate CrossStorageApi crossStorageApi;\r\n\tprivate RepositoryService rService;\r\n\r\n\tpublic ScalewayServerCreationScript() {\r\n\t\tcrossStorageApi = getCDIBean(CrossStorageApi.class);\r\n\t\trService = getCDIBean(RepositoryService.class);\r\n\t}\r\n\r\n\tpublic Class<SERVER> getEntityClass() {\r\n\t\treturn SERVER.class;\r\n\t}\r\n\r\n\t/**\r\n\t * Called just before entity persistence\r\n\t * \r\n\t * @param entity entity being persisted\r\n\t */\r\n\tpublic void prePersist(SERVER entity) {\r\n\t\tlog.info(\"prePersist \"+entity);\r\n\t}\r\n\r\n\t/**\r\n\t * Called just before entity update\r\n\t * \r\n\t * @param entity entity being updated\r\n\t */\r\n\tpublic void preUpdate(SERVER entity) {\r\n\t\tlog.info(\"preUpdate \"+entity);\r\n\t}\r\n\r\n\t/**\r\n\t * Called just before entity removal\r\n\t * \r\n\t * @param entity entity being removed\r\n\t */\r\n\tpublic void preRemove(SERVER entity) {\r\n\t\tlog.info(\"preRemove \"+entity);\r\n\t}\r\n\r\n\t/**\r\n\t * Called just after entity persistence\r\n\t * \r\n\t * @param entity persisted entity\r\n\t */\r\n\tpublic void postPersist(SERVER entity) {\r\n\t\tlog.info(\"postPersist \"+entity);\r\n\t}\r\n\r\n\t/**\r\n\t * Called just after entity update\r\n\t * \r\n\t * @param entity updated entity\r\n\t */\r\n\tpublic void postUpdate(SERVER entity) {\r\n\t\tlog.info(\"postUpdate \"+entity);\r\n\t}\r\n\r\n\t/**\r\n\t * Called just after entity removal\r\n\t * \r\n\t * @param entity removed entity\r\n\t */\r\n\tpublic void postRemove(SERVER entity) {\r\n\t\tlog.info(\"postRemove \"+entity);\r\n\t}\r\n}",
      "executionRoles" : [ ],
      "sourcingRoles" : [ ],
      "mavenDependencies" : [ ],
      "importScriptInstances" : [ ]
    }
  }, {
    "dtoClassName" : "org.meveo.api.dto.ScriptInstanceDto",
    "dtoData" : {
      "active" : true,
      "code" : "org.meveo.script.ListScalewayServersScript",
      "description" : "list scaleway servers",
      "inputs" : [ ],
      "outputs" : [ ],
      "generateOutputs" : false,
      "type" : "JAVA",
      "transactionType" : "SAME",
      "script" : "package org.meveo.script;\r\n\r\nimport java.util.Map;\r\n\r\nimport org.meveo.service.script.Script;\r\nimport org.meveo.admin.exception.BusinessException;\r\nimport org.meveo.api.exception.BusinessApiException;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.meveo.model.customEntities.CustomEntityInstance;\r\nimport org.jboss.resteasy.client.jaxrs.ResteasyClientBuilder;\r\nimport javax.ws.rs.client.*;\r\nimport javax.ws.rs.core.*;\r\nimport com.google.gson.*;\r\nimport java.util.Date;\r\nimport java.util.List;\r\nimport org.meveo.model.customEntities.SERVICE_PROVIDER;\r\nimport org.meveo.model.customEntities.SERVER;\r\nimport org.meveo.model.customEntities.CREDENTIAL;\r\nimport org.meveo.service.storage.RepositoryService;\r\nimport org.meveo.model.storage.Repository;\r\nimport org.meveo.api.persistence.CrossStorageApi;\r\n\r\npublic class ListScalewayServersScript extends Script {\r\n\t\r\n    private static final Logger log = LoggerFactory.getLogger(ListScalewayServersScript.class);\r\n    private CrossStorageApi crossStorageApi = getCDIBean(CrossStorageApi.class);\r\n\tprivate RepositoryService repositoryService = getCDIBean(RepositoryService.class);\r\n    private Repository defaultRepo = repositoryService.findDefaultRepository();\r\n  \r\n    private SERVICE_PROVIDER getProvider(String code){\r\n      return crossStorageApi.find(defaultRepo, SERVICE_PROVIDER.class)\r\n    \t\t.by(\"CODE\", code)\r\n    \t\t.getResult();\r\n    }\r\n      \r\n    private CREDENTIAL getCredential(String domain){\r\n      List<CREDENTIAL> matchigCredentials = crossStorageApi.find(defaultRepo, CREDENTIAL.class)\r\n                .by(\"DOMAIN\", domain)\r\n\t\t\t\t.getResults();\r\n      if(matchigCredentials.size()>0){\r\n        return matchigCredentials.get(0);\r\n      } else {\r\n        return null;\r\n      }\r\n    }\r\n  \r\n\t@Override\r\n\tpublic void execute(Map<String, Object> parameters) throws BusinessException {\r\n\t  log.info(\"calling ListScalewayServersScript\");\r\n      SERVICE_PROVIDER scaleway=null;\r\n      try {\r\n        scaleway = getProvider(\"SCALEWAY\");\r\n      } catch(Exception e){\r\n        throw new BusinessException(e);\r\n      }\r\n      String domain=\"api.scaleway.com\";\r\n      CREDENTIAL credential  = getCredential(domain);\r\n      if(credential==null){\r\n        throw new BusinessException(\"No credential found for \"+domain);\r\n      } else {\r\n        log.info(\"using credential {} with username {}\",credential.getUuid(),credential.getUSERNAME());\r\n      }\r\n      ResteasyClientBuilder builder= new ResteasyClientBuilder();\r\n      Client client = builder.build();\r\n      WebTarget target = client.target(\"https://\"+domain+\"/instance/v1/zones/fr-par-1/servers\");\r\n      \r\n      Response response= target.request().header(credential.getHEADER_KEY(), credential.getHEADER_VALUE()).get();\r\n      String value = response.readEntity(String.class);\r\n      log.info(\"response  :\"+value);\r\n      log.debug(\"response status : {}\",response.getStatus());\r\n      \r\n      if (response.getStatus() < 300){\r\n          JsonArray rootArray = new JsonParser().parse(value).getAsJsonObject().getAsJsonArray(\"servers\");\r\n          //log.debug(\"rootArray: {}\",rootArray);\r\n          /*if(rootObject.get(\"servers\")!=JsonNull.INSTANCE){\r\n            Object servers = rootObject.get(\"servers\");\r\n            log.info(\"received servers:{}\",servers);\r\n          }*/\r\n          for(JsonElement element:rootArray){\r\n            JsonObject serverObj = element.getAsJsonObject();\r\n            SERVER server = new SERVER();\r\n            server.setUuid(serverObj.get(\"id\").getAsString());\r\n            server.setINSTANCE_NAME(serverObj.get(\"name\").getAsString());\r\n            server.setPROVIDER(scaleway);\r\n            log.info(\"server: {} provider:{}\",server.getUuid(),server.getPROVIDER().getUuid());\r\n            try {\r\n            \tcrossStorageApi.createOrUpdate(defaultRepo,server);\r\n            } catch(Exception ex){\r\n              log.error(\"error creating server {} :{}\",server.getUuid(),ex.getMessage());\r\n            }\r\n          }\r\n      }\r\n      response.close();\r\n\t}\r\n\t\r\n}",
      "executionRoles" : [ ],
      "sourcingRoles" : [ ],
      "mavenDependencies" : [ ],
      "importScriptInstances" : [ ]
    }
  }, {
    "dtoClassName" : "org.meveo.api.dto.CustomEntityTemplateDto",
    "dtoData" : {
      "code" : "ApplicationInstance",
      "name" : "Apps",
      "description" : "Application instance",
      "customEntityCategoryCode" : "INFRA",
      "availableStorages" : [ "SQL" ],
      "sqlStorageConfiguration" : {
        "storeAsTable" : true
      },
      "samples" : [ ],
      "audited" : false,
      "fields" : [ {
        "code" : "application",
        "description" : "name of the application deployed",
        "fieldType" : "LIST",
        "accountLevel" : "CE_ApplicationInstance",
        "appliesTo" : "CE_ApplicationInstance",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : {
          "API_V1" : "API V1",
          "IC" : "IC",
          "KC" : "Keycloak"
        },
        "allowEdit" : true,
        "hideOnNew" : false,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Apps:0;field:0",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : true,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      }, {
        "code" : "domain",
        "description" : "url domain",
        "fieldType" : "STRING",
        "accountLevel" : "CE_ApplicationInstance",
        "appliesTo" : "CE_ApplicationInstance",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "maxValue" : 255,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Apps:0;field:1",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : true,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      }, {
        "code" : "investigationTypes",
        "description" : "Investigation Types",
        "fieldType" : "LIST",
        "accountLevel" : "CE_ApplicationInstance",
        "appliesTo" : "CE_ApplicationInstance",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "LIST",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : {
          "Agent" : "Agent",
          "BrandAndProductDetection" : "B&P Detection",
          "BrandAndProductMonitoring" : "B&P Monitoring",
          "IllicitWebsite" : "Illicit Website",
          "Monitoring" : "Monitoring",
          "Product" : "Product",
          "ScanWebsite" : "Scan Website"
        },
        "allowEdit" : true,
        "hideOnNew" : false,
        "maxValue" : 255,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Apps:0;field:4",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : true,
        "audited" : false,
        "persisted" : true,
        "filter" : true,
        "unique" : false,
        "matrixColumns" : [ ]
      }, {
        "code" : "isStartServiceSource",
        "description" : "Is a source of Start Service definition",
        "fieldType" : "BOOLEAN",
        "accountLevel" : "CE_ApplicationInstance",
        "appliesTo" : "CE_ApplicationInstance",
        "defaultValue" : "false",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Apps:0;field:5",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : false,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      }, {
        "code" : "port",
        "description" : "port",
        "fieldType" : "LONG",
        "accountLevel" : "CE_ApplicationInstance",
        "appliesTo" : "CE_ApplicationInstance",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Apps:0;field:2",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : true,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      }, {
        "code" : "repoName",
        "description" : "name repository",
        "fieldType" : "STRING",
        "accountLevel" : "CE_ApplicationInstance",
        "appliesTo" : "CE_ApplicationInstance",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "maxValue" : 255,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Apps:0;field:4",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : true,
        "audited" : false,
        "persisted" : true,
        "filter" : true,
        "unique" : false,
        "matrixColumns" : [ ]
      } ],
      "actions" : [ {
        "code" : "listStartServices",
        "description" : "List Start Services",
        "appliesTo" : "CE_ApplicationInstance",
        "label" : "List start services",
        "script" : "com.webdrone.startservice.WebdroneStartServiceApi",
        "applicableToEntityList" : false,
        "applicableToEntityInstance" : true
      }, {
        "code" : "listCount",
        "description" : "List proxy deployments",
        "appliesTo" : "CE_ApplicationInstance",
        "label" : "List proxy deployments",
        "script" : "com.webdrone.proxy.deployment.WebdroneApiV1",
        "applicableToEntityList" : false,
        "applicableToEntityInstance" : true
      } ]
    }
  }, {
    "dtoClassName" : "org.meveo.api.dto.CustomEntityTemplateDto",
    "dtoData" : {
      "code" : "SERVER",
      "name" : "Server",
      "description" : "Server ",
      "crudEventListenerScript" : "org.meveo.script.ScalewayServerCreationScript",
      "customEntityCategoryCode" : "INFRA",
      "availableStorages" : [ "SQL" ],
      "sqlStorageConfiguration" : {
        "storeAsTable" : true
      },
      "samples" : [ ],
      "audited" : false,
      "fields" : [ {
        "code" : "CREATION_DATE",
        "description" : "Creation date",
        "fieldType" : "DATE",
        "accountLevel" : "CE_SERVER",
        "appliesTo" : "CE_SERVER",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Server:0;field:6",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : false,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      }, {
        "code" : "IMAGE",
        "description" : "Image",
        "fieldType" : "STRING",
        "accountLevel" : "CE_SERVER",
        "appliesTo" : "CE_SERVER",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "maxValue" : 255,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Server:0;field:3",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : false,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      }, {
        "code" : "INSTANCE_NAME",
        "description" : "Instance name",
        "fieldType" : "STRING",
        "accountLevel" : "CE_SERVER",
        "appliesTo" : "CE_SERVER",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "maxValue" : 255,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Server:0;field:1",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : true,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      }, {
        "code" : "LAST_UPDATE",
        "description" : "Last update",
        "fieldType" : "DATE",
        "accountLevel" : "CE_SERVER",
        "appliesTo" : "CE_SERVER",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Server:0;field:7",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : false,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      }, {
        "code" : "ORGANIZATION",
        "description" : "Organization",
        "fieldType" : "STRING",
        "accountLevel" : "CE_SERVER",
        "appliesTo" : "CE_SERVER",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "maxValue" : 255,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Server:0;field:4",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : false,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      }, {
        "code" : "PROVIDER",
        "description" : "Server provider",
        "fieldType" : "ENTITY",
        "accountLevel" : "CE_SERVER",
        "appliesTo" : "CE_SERVER",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "entityClazz" : "org.meveo.model.customEntities.CustomEntityTemplate - SERVICE_PROVIDER",
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Server:0;field:0",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : true,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "entityClazzCetCode" : "SERVICE_PROVIDER",
        "matrixColumns" : [ ]
      }, {
        "code" : "STATUS",
        "description" : "Status",
        "fieldType" : "STRING",
        "accountLevel" : "CE_SERVER",
        "appliesTo" : "CE_SERVER",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "maxValue" : 50,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Server:0;field:8",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : false,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      }, {
        "code" : "TYPE",
        "description" : "Type",
        "fieldType" : "STRING",
        "accountLevel" : "CE_SERVER",
        "appliesTo" : "CE_SERVER",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "maxValue" : 255,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Server:0;field:2",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : true,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      }, {
        "code" : "ZONE",
        "description" : "Zone",
        "fieldType" : "STRING",
        "accountLevel" : "CE_SERVER",
        "appliesTo" : "CE_SERVER",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "maxValue" : 50,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Server:0;field:5",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : true,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      } ],
      "actions" : [ ]
    }
  }, {
    "dtoClassName" : "org.meveo.api.dto.CustomEntityTemplateDto",
    "dtoData" : {
      "code" : "SERVICE_PROVIDER",
      "name" : "Server provider",
      "description" : "Server provider",
      "customEntityCategoryCode" : "INFRA",
      "availableStorages" : [ "SQL" ],
      "sqlStorageConfiguration" : {
        "storeAsTable" : true
      },
      "samples" : [ ],
      "audited" : false,
      "fields" : [ {
        "code" : "AUTH_HEADER",
        "description" : "Authorization header name",
        "fieldType" : "STRING",
        "accountLevel" : "CE_SERVICE_PROVIDER",
        "appliesTo" : "CE_SERVICE_PROVIDER",
        "defaultValue" : "Authorization",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "maxValue" : 255,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Authorisation:1;field:0",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : false,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      }, {
        "code" : "AUTH_VALUE_KEY",
        "description" : "Authorization value key, like API Key, token",
        "fieldType" : "STRING",
        "accountLevel" : "CE_SERVICE_PROVIDER",
        "appliesTo" : "CE_SERVICE_PROVIDER",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "maxValue" : 500,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Authorisation:1;field:2",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : false,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      }, {
        "code" : "AUTH_VALUE_PREFIX",
        "description" : "Authorization value prefix",
        "fieldType" : "STRING",
        "accountLevel" : "CE_SERVICE_PROVIDER",
        "appliesTo" : "CE_SERVICE_PROVIDER",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "maxValue" : 255,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Authorisation:1;field:1",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : false,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      }, {
        "code" : "CODE",
        "description" : "Code",
        "fieldType" : "STRING",
        "accountLevel" : "CE_SERVICE_PROVIDER",
        "appliesTo" : "CE_SERVICE_PROVIDER",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "maxValue" : 50,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Configuration:0;field:0",
        "identifier" : true,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : true,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      }, {
        "code" : "DESCRIPTION",
        "description" : "Description",
        "fieldType" : "STRING",
        "accountLevel" : "CE_SERVICE_PROVIDER",
        "appliesTo" : "CE_SERVICE_PROVIDER",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "maxValue" : 255,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Configuration:0;field:1",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : false,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      }, {
        "code" : "IMAGES",
        "description" : "Images",
        "fieldType" : "STRING",
        "accountLevel" : "CE_SERVICE_PROVIDER",
        "appliesTo" : "CE_SERVICE_PROVIDER",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "MAP",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "maxValue" : 255,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Server Types:2;field:1",
        "identifier" : false,
        "mapKeyType" : "STRING",
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : false,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      }, {
        "code" : "ORGANIZATIONS",
        "description" : "Organizations",
        "fieldType" : "STRING",
        "accountLevel" : "CE_SERVICE_PROVIDER",
        "appliesTo" : "CE_SERVICE_PROVIDER",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "MAP",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "maxValue" : 255,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Configuration:0;field:2",
        "identifier" : false,
        "mapKeyType" : "STRING",
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : false,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      }, {
        "code" : "STATUS",
        "description" : "Status",
        "fieldType" : "STRING",
        "accountLevel" : "CE_SERVICE_PROVIDER",
        "appliesTo" : "CE_SERVICE_PROVIDER",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "LIST",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "maxValue" : 50,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Configuration:0;field:4",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : false,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      }, {
        "code" : "TYPES",
        "description" : "Types",
        "fieldType" : "STRING",
        "accountLevel" : "CE_SERVICE_PROVIDER",
        "appliesTo" : "CE_SERVICE_PROVIDER",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "MAP",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "maxValue" : 255,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Server Types:2;field:0",
        "identifier" : false,
        "mapKeyType" : "STRING",
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : false,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      }, {
        "code" : "ZONES",
        "description" : "Zones",
        "fieldType" : "STRING",
        "accountLevel" : "CE_SERVICE_PROVIDER",
        "appliesTo" : "CE_SERVICE_PROVIDER",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "MAP",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "maxValue" : 50,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Configuration:0;field:3",
        "identifier" : false,
        "mapKeyType" : "STRING",
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : false,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      } ],
      "actions" : [ {
        "code" : "LIST_SERVER",
        "description" : "List servers",
        "appliesTo" : "CE_SERVICE_PROVIDER",
        "applicableOnEl" : "#{entity.getCfValuesAsValues().get(\"CODE\") eq 'SCALEWAY'}",
        "label" : "List Servers",
        "script" : "org.meveo.script.ListScalewayServersScript",
        "applicableToEntityList" : false,
        "applicableToEntityInstance" : true
      } ]
    }
  }, {
    "dtoClassName" : "org.meveo.api.dto.EntityCustomActionDto",
    "dtoData" : {
      "code" : "LIST_SERVER",
      "description" : "List servers",
      "appliesTo" : "CE_SERVICE_PROVIDER",
      "applicableOnEl" : "#{entity.getCfValuesAsValues().get(\"CODE\") eq 'SCALEWAY'}",
      "label" : "List Servers",
      "script" : "org.meveo.script.ListScalewayServersScript",
      "applicableToEntityList" : false,
      "applicableToEntityInstance" : true
    }
  }, {
    "dtoClassName" : "org.meveo.api.dto.CustomEntityTemplateDto",
    "dtoData" : {
      "code" : "FLEXIBLE_IP",
      "name" : "Flexible IP",
      "description" : "Flexible IP",
      "customEntityCategoryCode" : "INFRA",
      "availableStorages" : [ "SQL" ],
      "sqlStorageConfiguration" : {
        "storeAsTable" : false
      },
      "samples" : [ ],
      "audited" : false,
      "fields" : [ {
        "code" : "CREATION_DATE",
        "description" : "Creation date",
        "fieldType" : "DATE",
        "accountLevel" : "CE_FLEXIBLE_IP",
        "appliesTo" : "CE_FLEXIBLE_IP",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Flexible IP:0;field:4",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : false,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      }, {
        "code" : "LAST_UPDATE",
        "description" : "Last update",
        "fieldType" : "DATE",
        "accountLevel" : "CE_FLEXIBLE_IP",
        "appliesTo" : "CE_FLEXIBLE_IP",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Flexible IP:0;field:5",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : false,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      }, {
        "code" : "ORGANIZATION",
        "description" : "Organization",
        "fieldType" : "STRING",
        "accountLevel" : "CE_FLEXIBLE_IP",
        "appliesTo" : "CE_FLEXIBLE_IP",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "maxValue" : 255,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Flexible IP:0;field:1",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : false,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      }, {
        "code" : "SERVER",
        "description" : "Server",
        "fieldType" : "ENTITY",
        "accountLevel" : "CE_FLEXIBLE_IP",
        "appliesTo" : "CE_FLEXIBLE_IP",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "entityClazz" : "org.meveo.model.customEntities.CustomEntityTemplate - SERVER",
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Flexible IP:0;field:2",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : false,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "entityClazzCetCode" : "SERVER",
        "matrixColumns" : [ ]
      }, {
        "code" : "ZONE",
        "description" : "Zone",
        "fieldType" : "STRING",
        "accountLevel" : "CE_FLEXIBLE_IP",
        "appliesTo" : "CE_FLEXIBLE_IP",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "maxValue" : 50,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Flexible IP:0;field:3",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : false,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      } ],
      "actions" : [ ]
    }
  } ],
  "moduleDependencies" : [ {
    "code" : "CREDENTIALS",
    "description" : "credentials",
    "currentVersion" : "1.1.0"
  } ],
  "moduleFiles" : [ ]
} ]