[ {
  "active" : true,
  "code" : "INFRASTRUCTURE",
  "description" : "Infrastructure management",
  "license" : "GPL",
  "currentVersion" : "1.23",
  "meveoVersionBase" : "6.9.0",
  "transient" : true,
  "codeOnly" : false,
  "inDraft" : true,
  "moduleItems" : [ {
    "dtoClassName" : "org.meveo.api.dto.CustomEntityCategoryDto",
    "dtoData" : {
      "code" : "INFRA",
      "name" : "INFRA"
    }
  }, {
    "dtoClassName" : "org.meveo.api.dto.CustomEntityTemplateDto",
    "dtoData" : {
      "code" : "StartServiceCategory",
      "name" : "Start Service Category",
      "description" : "Start Service Category",
      "customEntityCategoryCode" : "INFRA",
      "availableStorages" : [ "SQL" ],
      "sqlStorageConfiguration" : {
        "storeAsTable" : true
      },
      "samples" : [ ],
      "audited" : false,
      "fields" : [ {
        "code" : "labels",
        "description" : "labels",
        "fieldType" : "STRING",
        "accountLevel" : "CE_StartServiceCategory",
        "appliesTo" : "CE_StartServiceCategory",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "MAP",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "maxValue" : 255,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Start Service Category:0;field:0",
        "identifier" : false,
        "mapKeyType" : "STRING",
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : true,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      }, {
        "code" : "parent",
        "description" : "Parent category",
        "fieldType" : "ENTITY",
        "accountLevel" : "CE_StartServiceCategory",
        "appliesTo" : "CE_StartServiceCategory",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "entityClazz" : "org.meveo.model.customEntities.CustomEntityTemplate - StartServiceCategory",
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Start Service Category:0;field:1",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : true,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "entityClazzCetCode" : "StartServiceCategory",
        "matrixColumns" : [ ]
      } ],
      "actions" : [ ]
    }
  }, {
    "dtoClassName" : "org.meveo.api.dto.ScriptInstanceDto",
    "dtoData" : {
      "active" : true,
      "code" : "org.meveo.script.ScalewayServerCreationScript",
      "description" : "create scaleway server",
      "inputs" : [ ],
      "outputs" : [ {
        "name" : "entityClass",
        "type" : "Class<SERVER>",
        "description" : null
      } ],
      "generateOutputs" : false,
      "type" : "JAVA",
      "transactionType" : "SAME",
      "script" : "package org.meveo.script;\r\n\r\nimport java.util.Map;\r\n\r\nimport org.meveo.service.script.Script;\r\nimport org.meveo.admin.exception.BusinessException;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.meveo.service.storage.RepositoryService;\r\nimport org.meveo.api.persistence.CrossStorageApi;\r\nimport org.meveo.model.customEntities.SERVER;\r\nimport org.meveo.model.customEntities.CrudEventListenerScript;\r\n\r\npublic class ScalewayServerCreationScript extends Script implements CrudEventListenerScript<SERVER> {\r\n    private static final Logger log = LoggerFactory.getLogger(ScalewayServerCreationScript.class);\r\n\r\n\tprivate CrossStorageApi crossStorageApi;\r\n\tprivate RepositoryService rService;\r\n\r\n\tpublic ScalewayServerCreationScript() {\r\n\t\tcrossStorageApi = getCDIBean(CrossStorageApi.class);\r\n\t\trService = getCDIBean(RepositoryService.class);\r\n\t}\r\n\r\n\tpublic Class<SERVER> getEntityClass() {\r\n\t\treturn SERVER.class;\r\n\t}\r\n\r\n\t/**\r\n\t * Called just before entity persistence\r\n\t * \r\n\t * @param entity entity being persisted\r\n\t */\r\n\tpublic void prePersist(SERVER entity) {\r\n\t\tlog.info(\"prePersist \"+entity);\r\n\t}\r\n\r\n\t/**\r\n\t * Called just before entity update\r\n\t * \r\n\t * @param entity entity being updated\r\n\t */\r\n\tpublic void preUpdate(SERVER entity) {\r\n\t\tlog.info(\"preUpdate \"+entity);\r\n\t}\r\n\r\n\t/**\r\n\t * Called just before entity removal\r\n\t * \r\n\t * @param entity entity being removed\r\n\t */\r\n\tpublic void preRemove(SERVER entity) {\r\n\t\tlog.info(\"preRemove \"+entity);\r\n\t}\r\n\r\n\t/**\r\n\t * Called just after entity persistence\r\n\t * \r\n\t * @param entity persisted entity\r\n\t */\r\n\tpublic void postPersist(SERVER entity) {\r\n\t\tlog.info(\"postPersist \"+entity);\r\n\t}\r\n\r\n\t/**\r\n\t * Called just after entity update\r\n\t * \r\n\t * @param entity updated entity\r\n\t */\r\n\tpublic void postUpdate(SERVER entity) {\r\n\t\tlog.info(\"postUpdate \"+entity);\r\n\t}\r\n\r\n\t/**\r\n\t * Called just after entity removal\r\n\t * \r\n\t * @param entity removed entity\r\n\t */\r\n\tpublic void postRemove(SERVER entity) {\r\n\t\tlog.info(\"postRemove \"+entity);\r\n\t}\r\n}",
      "executionRoles" : [ ],
      "sourcingRoles" : [ ],
      "mavenDependencies" : [ ],
      "importScriptInstances" : [ ]
    }
  }, {
    "dtoClassName" : "org.meveo.api.dto.ScriptInstanceDto",
    "dtoData" : {
      "active" : true,
      "code" : "org.meveo.script.ListScalewayServersScript",
      "description" : "list scaleway servers",
      "inputs" : [ ],
      "outputs" : [ ],
      "generateOutputs" : false,
      "type" : "JAVA",
      "transactionType" : "SAME",
      "script" : "package org.meveo.script;\r\n\r\nimport java.util.Map;\r\n\r\nimport org.meveo.service.script.Script;\r\nimport org.meveo.admin.exception.BusinessException;\r\nimport org.meveo.api.exception.BusinessApiException;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.meveo.model.customEntities.CustomEntityInstance;\r\nimport org.jboss.resteasy.client.jaxrs.ResteasyClientBuilder;\r\nimport javax.ws.rs.client.*;\r\nimport javax.ws.rs.core.*;\r\nimport com.google.gson.*;\r\nimport java.util.Date;\r\nimport java.util.List;\r\nimport org.meveo.model.customEntities.SERVICE_PROVIDER;\r\nimport org.meveo.model.customEntities.SERVER;\r\nimport org.meveo.model.customEntities.CREDENTIAL;\r\nimport org.meveo.service.storage.RepositoryService;\r\nimport org.meveo.model.storage.Repository;\r\nimport org.meveo.api.persistence.CrossStorageApi;\r\n\r\npublic class ListScalewayServersScript extends Script {\r\n\t\r\n    private static final Logger log = LoggerFactory.getLogger(ListScalewayServersScript.class);\r\n    private CrossStorageApi crossStorageApi = getCDIBean(CrossStorageApi.class);\r\n\tprivate RepositoryService repositoryService = getCDIBean(RepositoryService.class);\r\n    private Repository defaultRepo = repositoryService.findDefaultRepository();\r\n  \r\n    private SERVICE_PROVIDER getProvider(String code){\r\n      return crossStorageApi.find(defaultRepo, SERVICE_PROVIDER.class)\r\n    \t\t.by(\"CODE\", code)\r\n    \t\t.getResult();\r\n    }\r\n      \r\n    private CREDENTIAL getCredential(String domain){\r\n      List<CREDENTIAL> matchigCredentials = crossStorageApi.find(defaultRepo, CREDENTIAL.class)\r\n                .by(\"DOMAIN\", domain)\r\n\t\t\t\t.getResults();\r\n      if(matchigCredentials.size()>0){\r\n        return matchigCredentials.get(0);\r\n      } else {\r\n        return null;\r\n      }\r\n    }\r\n  \r\n\t@Override\r\n\tpublic void execute(Map<String, Object> parameters) throws BusinessException {\r\n\t  log.info(\"calling ListScalewayServersScript\");\r\n      SERVICE_PROVIDER scaleway=null;\r\n      try {\r\n        scaleway = getProvider(\"SCALEWAY\");\r\n      } catch(Exception e){\r\n        throw new BusinessException(e);\r\n      }\r\n      String domain=\"api.scaleway.com\";\r\n      CREDENTIAL credential  = getCredential(domain);\r\n      if(credential==null){\r\n        throw new BusinessException(\"No credential found for \"+domain);\r\n      } else {\r\n        log.info(\"using credential {} with username {}\",credential.getUuid(),credential.getUSERNAME());\r\n      }\r\n      ResteasyClientBuilder builder= new ResteasyClientBuilder();\r\n      Client client = builder.build();\r\n      WebTarget target = client.target(\"https://\"+domain+\"/instance/v1/zones/fr-par-1/servers\");\r\n      \r\n      Response response= target.request().header(credential.getHEADER_KEY(), credential.getHEADER_VALUE()).get();\r\n      String value = response.readEntity(String.class);\r\n      log.info(\"response  :\"+value);\r\n      log.debug(\"response status : {}\",response.getStatus());\r\n      \r\n      if (response.getStatus() < 300){\r\n          JsonArray rootArray = new JsonParser().parse(value).getAsJsonObject().getAsJsonArray(\"servers\");\r\n          //log.debug(\"rootArray: {}\",rootArray);\r\n          /*if(rootObject.get(\"servers\")!=JsonNull.INSTANCE){\r\n            Object servers = rootObject.get(\"servers\");\r\n            log.info(\"received servers:{}\",servers);\r\n          }*/\r\n          for(JsonElement element:rootArray){\r\n            JsonObject serverObj = element.getAsJsonObject();\r\n            SERVER server = new SERVER();\r\n            server.setUuid(serverObj.get(\"id\").getAsString());\r\n            server.setINSTANCE_NAME(serverObj.get(\"name\").getAsString());\r\n            server.setPROVIDER(scaleway);\r\n            log.info(\"server: {} provider:{}\",server.getUuid(),server.getPROVIDER().getUuid());\r\n            try {\r\n            \tcrossStorageApi.createOrUpdate(defaultRepo,server);\r\n            } catch(Exception ex){\r\n              log.error(\"error creating server {} :{}\",server.getUuid(),ex.getMessage());\r\n            }\r\n          }\r\n      }\r\n      response.close();\r\n\t}\r\n\t\r\n}",
      "executionRoles" : [ ],
      "sourcingRoles" : [ ],
      "mavenDependencies" : [ ],
      "importScriptInstances" : [ ]
    }
  }, {
    "dtoClassName" : "org.meveo.api.dto.CustomEntityTemplateDto",
    "dtoData" : {
      "code" : "ApplicationInstance",
      "name" : "Apps",
      "description" : "Application instance",
      "customEntityCategoryCode" : "INFRA",
      "availableStorages" : [ "SQL" ],
      "sqlStorageConfiguration" : {
        "storeAsTable" : true
      },
      "samples" : [ ],
      "audited" : false,
      "fields" : [ {
        "code" : "application",
        "description" : "name of the application deployed",
        "fieldType" : "LIST",
        "accountLevel" : "CE_ApplicationInstance",
        "appliesTo" : "CE_ApplicationInstance",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : {
          "API_V1" : "API V1"
        },
        "allowEdit" : true,
        "hideOnNew" : false,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Apps:0;field:0",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : true,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      }, {
        "code" : "domain",
        "description" : "url domain",
        "fieldType" : "STRING",
        "accountLevel" : "CE_ApplicationInstance",
        "appliesTo" : "CE_ApplicationInstance",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "maxValue" : 255,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Apps:0;field:1",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : true,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      }, {
        "code" : "port",
        "description" : "port",
        "fieldType" : "LONG",
        "accountLevel" : "CE_ApplicationInstance",
        "appliesTo" : "CE_ApplicationInstance",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Apps:0;field:2",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : true,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      }, {
        "code" : "repoName",
        "description" : "name repository",
        "fieldType" : "STRING",
        "accountLevel" : "CE_ApplicationInstance",
        "appliesTo" : "CE_ApplicationInstance",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "maxValue" : 255,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Apps:0;field:4",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : true,
        "audited" : false,
        "persisted" : true,
        "filter" : true,
        "unique" : false,
        "matrixColumns" : [ ]
      } ],
      "actions" : [ {
        "code" : "listStartServices",
        "description" : "List Start Services",
        "appliesTo" : "CE_ApplicationInstance",
        "label" : "List start services",
        "script" : "com.webdrone.startservice.WebdroneStartServiceApi",
        "applicableToEntityList" : false,
        "applicableToEntityInstance" : true
      }, {
        "code" : "listCount",
        "description" : "List proxy deployments",
        "appliesTo" : "CE_ApplicationInstance",
        "label" : "List proxy deployments",
        "script" : "com.webdrone.proxy.deployment.WebdroneApiV1",
        "applicableToEntityList" : false,
        "applicableToEntityInstance" : true
      } ]
    }
  }, {
    "dtoClassName" : "org.meveo.api.dto.CustomEntityTemplateDto",
    "dtoData" : {
      "code" : "SERVER",
      "name" : "Server",
      "description" : "Server ",
      "crudEventListenerScript" : "org.meveo.script.ScalewayServerCreationScript",
      "customEntityCategoryCode" : "INFRA",
      "availableStorages" : [ "SQL" ],
      "sqlStorageConfiguration" : {
        "storeAsTable" : true
      },
      "samples" : [ ],
      "audited" : false,
      "fields" : [ {
        "code" : "CREATION_DATE",
        "description" : "Creation date",
        "fieldType" : "DATE",
        "accountLevel" : "CE_SERVER",
        "appliesTo" : "CE_SERVER",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Server:0;field:6",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : false,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      }, {
        "code" : "IMAGE",
        "description" : "Image",
        "fieldType" : "STRING",
        "accountLevel" : "CE_SERVER",
        "appliesTo" : "CE_SERVER",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "maxValue" : 255,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Server:0;field:3",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : false,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      }, {
        "code" : "INSTANCE_NAME",
        "description" : "Instance name",
        "fieldType" : "STRING",
        "accountLevel" : "CE_SERVER",
        "appliesTo" : "CE_SERVER",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "maxValue" : 255,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Server:0;field:1",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : true,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      }, {
        "code" : "LAST_UPDATE",
        "description" : "Last update",
        "fieldType" : "DATE",
        "accountLevel" : "CE_SERVER",
        "appliesTo" : "CE_SERVER",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Server:0;field:7",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : false,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      }, {
        "code" : "ORGANIZATION",
        "description" : "Organization",
        "fieldType" : "STRING",
        "accountLevel" : "CE_SERVER",
        "appliesTo" : "CE_SERVER",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "maxValue" : 255,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Server:0;field:4",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : false,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      }, {
        "code" : "PROVIDER",
        "description" : "Server provider",
        "fieldType" : "ENTITY",
        "accountLevel" : "CE_SERVER",
        "appliesTo" : "CE_SERVER",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "entityClazz" : "org.meveo.model.customEntities.CustomEntityTemplate - SERVICE_PROVIDER",
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Server:0;field:0",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : true,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "entityClazzCetCode" : "SERVICE_PROVIDER",
        "matrixColumns" : [ ]
      }, {
        "code" : "STATUS",
        "description" : "Status",
        "fieldType" : "STRING",
        "accountLevel" : "CE_SERVER",
        "appliesTo" : "CE_SERVER",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "maxValue" : 50,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Server:0;field:8",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : false,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      }, {
        "code" : "TYPE",
        "description" : "Type",
        "fieldType" : "STRING",
        "accountLevel" : "CE_SERVER",
        "appliesTo" : "CE_SERVER",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "maxValue" : 255,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Server:0;field:2",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : true,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      }, {
        "code" : "ZONE",
        "description" : "Zone",
        "fieldType" : "STRING",
        "accountLevel" : "CE_SERVER",
        "appliesTo" : "CE_SERVER",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "maxValue" : 50,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Server:0;field:5",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : true,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      } ],
      "actions" : [ ]
    }
  }, {
    "dtoClassName" : "org.meveo.api.dto.ScriptInstanceDto",
    "dtoData" : {
      "active" : true,
      "code" : "com.webdrone.startservice.WebdroneStartServiceApi",
      "description" : "Retrieve start services and categories",
      "inputs" : [ ],
      "outputs" : [ ],
      "generateOutputs" : false,
      "type" : "JAVA",
      "transactionType" : "SAME",
      "script" : "package com.webdrone.startservice;\r\n\r\nimport java.time.Instant;\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.Set;\r\nimport java.util.Map.Entry;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\nimport org.meveo.service.script.Script;\r\nimport org.meveo.admin.exception.BusinessException;\r\nimport org.meveo.model.customEntities.CustomEntityInstance;\r\nimport org.meveo.model.persistence.CEIUtils;\r\nimport org.meveo.model.customEntities.ApplicationInstance;\r\nimport org.meveo.model.customEntities.StartServiceCategory;\r\nimport org.meveo.model.customEntities.StartService;\r\nimport org.meveo.service.storage.RepositoryService;\r\nimport org.meveo.model.storage.Repository;\r\nimport org.meveo.api.persistence.CrossStorageApi;\r\nimport org.meveo.api.persistence.CrossStorageRequest;\r\nimport org.meveo.api.exception.EntityDoesNotExistsException;\r\n\r\nimport org.jboss.resteasy.client.jaxrs.ResteasyClientBuilder;\r\nimport javax.ws.rs.client.*;\r\nimport javax.ws.rs.core.*;\r\nimport com.google.gson.*;\r\n\r\npublic class WebdroneStartServiceApi extends Script {\r\n    private static final Logger log = LoggerFactory.getLogger(WebdroneStartServiceApi.class);\r\n    private CrossStorageApi crossStorageApi = getCDIBean(CrossStorageApi.class);\r\n    private RepositoryService repositoryService = getCDIBean(RepositoryService.class);\r\n    private Repository defaultRepo = repositoryService.findDefaultRepository();\r\n\r\n    private String jsonContext = \"{\\n\" + \"    \\\"customer\\\": {\\n\" + \"        \\\"id\\\": 9999,\\n\"\r\n            + \"        \\\"name\\\": \\\"not defined\\\",\\n\" + \"        \\\"repository\\\": \\\"REPO_NAME_TO_REPLACE\\\"\\n\" + \"    },\\n\"\r\n            + \"    \\\"invest\\\": \\\"\\\",\\n\" + \"    \\\"locale\\\": \\\"fr\\\",\\n\" + \"    \\\"user\\\": {\\n\" + \"        \\\"id\\\": 9999,\\n\"\r\n            + \"        \\\"roles\\\": [\\\"ROLE_ADMIN_PLATFORM\\\", \\\"ROLE_ADMIN_WEBDRONE\\\"],\\n\"\r\n            + \"        \\\"timezone\\\": \\\"Europe\\\\/Paris\\\",\\n\" + \"        \\\"username\\\": \\\"not defined\\\"\\n\" + \"    },\\n\"\r\n            + \"    \\\"watchline\\\": {\\n\" + \"        \\\"active\\\": true,\\n\" + \"        \\\"alertElementType\\\": [],\\n\"\r\n            + \"        \\\"brand\\\": [],\\n\" + \"        \\\"brandIds\\\": [],\\n\" + \"        \\\"defaultwl\\\": false,\\n\"\r\n            + \"        \\\"domains\\\": [],\\n\" + \"        \\\"draft\\\": false,\\n\" + \"        \\\"excludedDomains\\\": [],\\n\"\r\n            + \"        \\\"excludedLocations\\\": [],\\n\" + \"        \\\"excludedPageKind\\\": [],\\n\"\r\n            + \"        \\\"excludedSiteKind\\\": [],\\n\" + \"        \\\"excludedWebsites\\\": [],\\n\"\r\n            + \"        \\\"excludedWebzones\\\": [],\\n\" + \"        \\\"id\\\": 1,\\n\" + \"        \\\"investigation\\\": [],\\n\"\r\n            + \"        \\\"ips\\\": [],\\n\" + \"        \\\"lang\\\": [],\\n\" + \"        \\\"locations\\\": [],\\n\"\r\n            + \"        \\\"minNote\\\": 0,\\n\" + \"        \\\"name\\\": \\\"not defined\\\",\\n\" + \"        \\\"pageKind\\\": [],\\n\"\r\n            + \"        \\\"postStates\\\": [],\\n\" + \"        \\\"product\\\": [],\\n\" + \"        \\\"segment\\\": \\\"\\\",\\n\"\r\n            + \"        \\\"segmentId\\\": [],\\n\" + \"        \\\"siteKind\\\": [],\\n\" + \"        \\\"startdate\\\": {\\n\"\r\n            + \"            \\\"offset\\\": 3600,\\n\" + \"            \\\"timestamp\\\": -3600,\\n\"\r\n            + \"            \\\"timezone\\\": {\\n\" + \"                \\\"location\\\": {\\n\"\r\n            + \"                    \\\"comments\\\": \\\"France\\\",\\n\" + \"                    \\\"country_code\\\": \\\"FR\\\",\\n\"\r\n            + \"                    \\\"latitude\\\": 52.5,\\n\" + \"                    \\\"longitude\\\": 13.36667\\n\"\r\n            + \"                },\\n\" + \"                \\\"name\\\": \\\"Europe\\\\/Paris\\\"\\n\" + \"            }\\n\"\r\n            + \"        },\\n\" + \"        \\\"tags\\\": [],\\n\" + \"        \\\"watchlineFilters\\\": [],\\n\"\r\n            + \"        \\\"websiteStates\\\": [],\\n\" + \"        \\\"websites\\\": [],\\n\" + \"        \\\"webzones\\\": [],\\n\"\r\n            + \"        \\\"withAlert\\\": null\\n\" + \"    }\\n\" + \"}\\n\";\r\n\r\n    private String getApiBaseUrl(String domain, Long port) {\r\n        String result = domain;\r\n        if (!domain.startsWith(\"http\")) {\r\n            result = \"http://\" + domain;\r\n        }\r\n        if (port > 0) {\r\n            result += \":\" + port;\r\n        }\r\n        return result;\r\n    }\r\n\r\n    @Override\r\n    public void execute(Map<String, Object> parameters) throws BusinessException {\r\n        log.info(\"calling WebdroneApiV1\");\r\n        String actionCode = (String) parameters.get(\"CONTEXT_ACTION\");\r\n        String output = \" action:\" + actionCode;\r\n        if (parameters.containsKey(\"CONTEXT_ENTITY\")) {\r\n            log.info(\"action called on a specific custom entity instance\");\r\n            CustomEntityInstance cei = (CustomEntityInstance) parameters.get(\"CONTEXT_ENTITY\");\r\n            Map<String, Object> cftMap = cei.getCfValuesAsValues();\r\n            if (\"listStartServices\".equals(actionCode)) {// apply to ApplicationInstance\r\n                log.info(\"listStartServices \");\r\n                String domain = (String) cftMap.get(\"domain\");\r\n                Long port = (Long) cftMap.get(\"port\");\r\n                ResteasyClientBuilder builder = new ResteasyClientBuilder();\r\n                Client client = builder.build();\r\n                if (!domain.startsWith(\"http\")) {\r\n                    domain = \"http://\" + domain;\r\n                }\r\n                if (port > 0) {\r\n                    domain += \":\" + port;\r\n                }\r\n                log.info(\"domain=\" + domain);\r\n                WebTarget target = client.target(domain + \"/API/startservice/list/context/filters/count/\");\r\n                Response response = target.request().build(\"post\").invoke();\r\n                String value = response.readEntity(String.class);\r\n                log.info(\"result=\" + value);\r\n                if (response.getStatus() < 300) {\r\n                    JsonArray categories = new JsonParser().parse(value).getAsJsonObject().getAsJsonArray(\"categories\");\r\n                    Map<String, String> categoryParents = new HashMap<>();\r\n                    Map<String, StartServiceCategory> startCategories = new HashMap<>();\r\n                    for (JsonElement element : categories) {\r\n                        JsonObject startServiceCategoryObj = element.getAsJsonObject();\r\n                        StartServiceCategory startServiceCategory = new StartServiceCategory();\r\n                        startServiceCategory.setUuid(startServiceCategoryObj.get(\"id\").getAsString());\r\n                        Map<String, String> labels = new HashMap<>();\r\n                        Set<Entry<String, JsonElement>> entrySet = startServiceCategoryObj.get(\"labels\")\r\n                                .getAsJsonObject().entrySet();\r\n                        entrySet.forEach((Entry<String, JsonElement> entry) -> {\r\n                            labels.put(entry.getKey(), entry.getValue().getAsString());\r\n                        });\r\n                        startServiceCategory.setLabels(labels);\r\n                        if (startServiceCategoryObj.has(\"parentId\")\r\n                                && !startServiceCategoryObj.get(\"parentId\").isJsonNull()) {\r\n                            categoryParents.put(startServiceCategory.getUuid(),\r\n                                    startServiceCategoryObj.get(\"parentId\").getAsString());\r\n                        }\r\n                        startCategories.put(startServiceCategory.getUuid(), startServiceCategory);\r\n                    }\r\n                    // persist roots\r\n                    startCategories.forEach((String id, StartServiceCategory startServiceCategory) -> {\r\n                        if (!categoryParents.containsKey(id)) {\r\n                            try {\r\n                                crossStorageApi.createOrUpdate(defaultRepo, startServiceCategory);\r\n                            } catch (Exception ex) {\r\n                                log.error(\"error creating startServiceCategory {} :{}\", startServiceCategory.getUuid(),\r\n                                        ex.getMessage());\r\n                            }\r\n                        }\r\n                    });\r\n                    // populate parent and persist childs\r\n                    startCategories.forEach((String id, StartServiceCategory startServiceCategory) -> {\r\n                        if (categoryParents.containsKey(id)) {\r\n                            startServiceCategory.setParent(startCategories.get(categoryParents.get(id)));\r\n                            try {\r\n                                crossStorageApi.createOrUpdate(defaultRepo, startServiceCategory);\r\n                            } catch (Exception ex) {\r\n                                log.error(\"error creating startServiceCategory {} :{}\", startServiceCategory.getUuid(),\r\n                                        ex.getMessage());\r\n                            }\r\n                        }\r\n                    });\r\n\r\n                    JsonArray startServices = new JsonParser().parse(value).getAsJsonObject().getAsJsonArray(\"startServices\");\r\n                    for (JsonElement element : startServices) {\r\n                        JsonObject startServiceObj = element.getAsJsonObject();\r\n                        StartService startService = new StartService();\r\n                        startService.setUuid(startServiceObj.get(\"_id\").getAsString());\r\n                        startService.setName(startServiceObj.get(\"labels\").getAsJsonObject().get(\"en\").getAsString());\r\n                        startService.setType(startServiceObj.get(\"type\").getAsString());\r\n                        startService.setCategory(startCategories.get(startServiceObj.get(\"categoryId\").getAsString()));\r\n                        try {\r\n                            crossStorageApi.createOrUpdate(defaultRepo, startService);\r\n                        } catch (Exception ex) {\r\n                            log.error(\"error creating startService {} :{}\", startService.getUuid(),\r\n                                    ex.getMessage());\r\n                        }\r\n                    }\r\n                    \r\n                }\r\n            }\r\n            log.info(\"output:\" + output);\r\n            parameters.put(\"RESULT_GUI_MESSAGE\", output);\r\n        }\r\n    }\r\n}",
      "executionRoles" : [ ],
      "sourcingRoles" : [ ],
      "mavenDependencies" : [ ],
      "importScriptInstances" : [ ]
    }
  }, {
    "dtoClassName" : "org.meveo.api.dto.CustomEntityTemplateDto",
    "dtoData" : {
      "code" : "SERVICE_PROVIDER",
      "name" : "Server provider",
      "description" : "Server provider",
      "customEntityCategoryCode" : "INFRA",
      "availableStorages" : [ "SQL" ],
      "sqlStorageConfiguration" : {
        "storeAsTable" : true
      },
      "samples" : [ ],
      "audited" : false,
      "fields" : [ {
        "code" : "AUTH_HEADER",
        "description" : "Authorization header name",
        "fieldType" : "STRING",
        "accountLevel" : "CE_SERVICE_PROVIDER",
        "appliesTo" : "CE_SERVICE_PROVIDER",
        "defaultValue" : "Authorization",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "maxValue" : 255,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Authorisation:1;field:0",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : false,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      }, {
        "code" : "AUTH_VALUE_KEY",
        "description" : "Authorization value key, like API Key, token",
        "fieldType" : "STRING",
        "accountLevel" : "CE_SERVICE_PROVIDER",
        "appliesTo" : "CE_SERVICE_PROVIDER",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "maxValue" : 500,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Authorisation:1;field:2",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : false,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      }, {
        "code" : "AUTH_VALUE_PREFIX",
        "description" : "Authorization value prefix",
        "fieldType" : "STRING",
        "accountLevel" : "CE_SERVICE_PROVIDER",
        "appliesTo" : "CE_SERVICE_PROVIDER",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "maxValue" : 255,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Authorisation:1;field:1",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : false,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      }, {
        "code" : "CODE",
        "description" : "Code",
        "fieldType" : "STRING",
        "accountLevel" : "CE_SERVICE_PROVIDER",
        "appliesTo" : "CE_SERVICE_PROVIDER",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "maxValue" : 50,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Configuration:0;field:0",
        "identifier" : true,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : true,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      }, {
        "code" : "DESCRIPTION",
        "description" : "Description",
        "fieldType" : "STRING",
        "accountLevel" : "CE_SERVICE_PROVIDER",
        "appliesTo" : "CE_SERVICE_PROVIDER",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "maxValue" : 255,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Configuration:0;field:1",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : false,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      }, {
        "code" : "IMAGES",
        "description" : "Images",
        "fieldType" : "STRING",
        "accountLevel" : "CE_SERVICE_PROVIDER",
        "appliesTo" : "CE_SERVICE_PROVIDER",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "MAP",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "maxValue" : 255,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Server Types:2;field:1",
        "identifier" : false,
        "mapKeyType" : "STRING",
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : false,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      }, {
        "code" : "ORGANIZATIONS",
        "description" : "Organizations",
        "fieldType" : "STRING",
        "accountLevel" : "CE_SERVICE_PROVIDER",
        "appliesTo" : "CE_SERVICE_PROVIDER",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "MAP",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "maxValue" : 255,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Configuration:0;field:2",
        "identifier" : false,
        "mapKeyType" : "STRING",
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : false,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      }, {
        "code" : "STATUS",
        "description" : "Status",
        "fieldType" : "STRING",
        "accountLevel" : "CE_SERVICE_PROVIDER",
        "appliesTo" : "CE_SERVICE_PROVIDER",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "LIST",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "maxValue" : 50,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Configuration:0;field:4",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : false,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      }, {
        "code" : "TYPES",
        "description" : "Types",
        "fieldType" : "STRING",
        "accountLevel" : "CE_SERVICE_PROVIDER",
        "appliesTo" : "CE_SERVICE_PROVIDER",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "MAP",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "maxValue" : 255,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Server Types:2;field:0",
        "identifier" : false,
        "mapKeyType" : "STRING",
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : false,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      }, {
        "code" : "ZONES",
        "description" : "Zones",
        "fieldType" : "STRING",
        "accountLevel" : "CE_SERVICE_PROVIDER",
        "appliesTo" : "CE_SERVICE_PROVIDER",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "MAP",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "maxValue" : 50,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Configuration:0;field:3",
        "identifier" : false,
        "mapKeyType" : "STRING",
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : false,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      } ],
      "actions" : [ {
        "code" : "LIST_SERVER",
        "description" : "List servers",
        "appliesTo" : "CE_SERVICE_PROVIDER",
        "applicableOnEl" : "#{entity.getCfValuesAsValues().get(\"CODE\") eq 'SCALEWAY'}",
        "label" : "List Servers",
        "script" : "org.meveo.script.ListScalewayServersScript",
        "applicableToEntityList" : false,
        "applicableToEntityInstance" : true
      } ]
    }
  }, {
    "dtoClassName" : "org.meveo.api.dto.EntityCustomActionDto",
    "dtoData" : {
      "code" : "LIST_SERVER",
      "description" : "List servers",
      "appliesTo" : "CE_SERVICE_PROVIDER",
      "applicableOnEl" : "#{entity.getCfValuesAsValues().get(\"CODE\") eq 'SCALEWAY'}",
      "label" : "List Servers",
      "script" : "org.meveo.script.ListScalewayServersScript",
      "applicableToEntityList" : false,
      "applicableToEntityInstance" : true
    }
  }, {
    "dtoClassName" : "org.meveo.api.dto.CustomEntityTemplateDto",
    "dtoData" : {
      "code" : "FLEXIBLE_IP",
      "name" : "Flexible IP",
      "description" : "Flexible IP",
      "customEntityCategoryCode" : "INFRA",
      "availableStorages" : [ "SQL" ],
      "sqlStorageConfiguration" : {
        "storeAsTable" : false
      },
      "samples" : [ ],
      "audited" : false,
      "fields" : [ {
        "code" : "CREATION_DATE",
        "description" : "Creation date",
        "fieldType" : "DATE",
        "accountLevel" : "CE_FLEXIBLE_IP",
        "appliesTo" : "CE_FLEXIBLE_IP",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Flexible IP:0;field:4",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : false,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      }, {
        "code" : "LAST_UPDATE",
        "description" : "Last update",
        "fieldType" : "DATE",
        "accountLevel" : "CE_FLEXIBLE_IP",
        "appliesTo" : "CE_FLEXIBLE_IP",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Flexible IP:0;field:5",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : false,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      }, {
        "code" : "ORGANIZATION",
        "description" : "Organization",
        "fieldType" : "STRING",
        "accountLevel" : "CE_FLEXIBLE_IP",
        "appliesTo" : "CE_FLEXIBLE_IP",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "maxValue" : 255,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Flexible IP:0;field:1",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : false,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      }, {
        "code" : "SERVER",
        "description" : "Server",
        "fieldType" : "ENTITY",
        "accountLevel" : "CE_FLEXIBLE_IP",
        "appliesTo" : "CE_FLEXIBLE_IP",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "entityClazz" : "org.meveo.model.customEntities.CustomEntityTemplate - SERVER",
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Flexible IP:0;field:2",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : false,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "entityClazzCetCode" : "SERVER",
        "matrixColumns" : [ ]
      }, {
        "code" : "ZONE",
        "description" : "Zone",
        "fieldType" : "STRING",
        "accountLevel" : "CE_FLEXIBLE_IP",
        "appliesTo" : "CE_FLEXIBLE_IP",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "maxValue" : 50,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Flexible IP:0;field:3",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : false,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      } ],
      "actions" : [ ]
    }
  }, {
    "dtoClassName" : "org.meveo.api.dto.CustomEntityTemplateDto",
    "dtoData" : {
      "code" : "StartService",
      "name" : "Start Service",
      "description" : "Start Service",
      "customEntityCategoryCode" : "INFRA",
      "availableStorages" : [ "SQL" ],
      "sqlStorageConfiguration" : {
        "storeAsTable" : true
      },
      "samples" : [ ],
      "audited" : false,
      "fields" : [ {
        "code" : "category",
        "description" : "Category",
        "fieldType" : "ENTITY",
        "accountLevel" : "CE_StartService",
        "appliesTo" : "CE_StartService",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "entityClazz" : "org.meveo.model.customEntities.CustomEntityTemplate - StartServiceCategory",
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Start Service:0;field:1",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : true,
        "audited" : false,
        "persisted" : true,
        "filter" : true,
        "unique" : false,
        "entityClazzCetCode" : "StartServiceCategory",
        "matrixColumns" : [ ]
      }, {
        "code" : "name",
        "description" : "Name",
        "fieldType" : "STRING",
        "accountLevel" : "CE_StartService",
        "appliesTo" : "CE_StartService",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "maxValue" : 255,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Start Service:0;field:0",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : false,
        "audited" : false,
        "persisted" : true,
        "filter" : true,
        "unique" : false,
        "matrixColumns" : [ ]
      }, {
        "code" : "type",
        "description" : "type",
        "fieldType" : "LIST",
        "accountLevel" : "CE_StartService",
        "appliesTo" : "CE_StartService",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : {
          "API" : "API",
          "PAGE" : "Page"
        },
        "allowEdit" : true,
        "hideOnNew" : false,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Start Service:0;field:2",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : false,
        "audited" : false,
        "persisted" : true,
        "filter" : true,
        "unique" : false,
        "matrixColumns" : [ ]
      } ],
      "actions" : [ ]
    }
  } ],
  "moduleDependencies" : [ {
    "code" : "CREDENTIALS",
    "description" : "credentials",
    "currentVersion" : "1.1.0"
  } ],
  "moduleFiles" : [ ]
} ]