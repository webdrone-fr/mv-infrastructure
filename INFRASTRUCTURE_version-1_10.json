[ {
  "active" : true,
  "code" : "INFRASTRUCTURE",
  "description" : "Infrastructure management",
  "license" : "GPL",
  "currentVersion" : "1.10",
  "meveoVersionBase" : "6.9.0",
  "transient" : true,
  "codeOnly" : false,
  "inDraft" : true,
  "moduleItems" : [ {
    "dtoClassName" : "org.meveo.api.dto.ScriptInstanceDto",
    "dtoData" : {
      "active" : true,
      "code" : "com.webdrone.proxy.provider.Buyproxies",
      "inputs" : [ ],
      "outputs" : [ ],
      "generateOutputs" : false,
      "type" : "JAVA",
      "transactionType" : "SAME",
      "script" : "package com.webdrone.proxy.provider;\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.StringReader;\r\nimport java.io.IOException;\r\nimport java.util.Map;\r\n\r\nimport com.webdrone.proxy.ProxyActionHandler;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.meveo.service.script.Script;\r\nimport org.meveo.admin.exception.BusinessException;\r\nimport org.jboss.resteasy.client.jaxrs.ResteasyClientBuilder;\r\nimport javax.ws.rs.client.*;\r\nimport javax.ws.rs.core.*;\r\nimport com.google.gson.*;\r\nimport org.meveo.model.persistence.CEIUtils;\r\nimport org.meveo.model.customEntities.CustomEntityInstance;\r\nimport org.meveo.service.storage.RepositoryService;\r\nimport org.meveo.model.storage.Repository;\r\nimport org.meveo.api.persistence.CrossStorageApi;\r\nimport org.meveo.api.exception.EntityDoesNotExistsException;\r\nimport org.meveo.model.customEntities.PROXY;\r\nimport org.meveo.model.customEntities.PROXY_GROUP;\r\nimport org.meveo.model.customEntities.PROXY_PROVIDER;\r\n\r\npublic class Buyproxies extends Script {\r\n\t\r\n    private static final Logger log = LoggerFactory.getLogger(Buyproxies.class);\r\n    private CrossStorageApi crossStorageApi = getCDIBean(CrossStorageApi.class);\r\n\tprivate RepositoryService repositoryService = getCDIBean(RepositoryService.class);\r\n    private Repository defaultRepo = repositoryService.findDefaultRepository();\r\n\r\n\t@Override\r\n\tpublic void execute(Map<String, Object> parameters) throws BusinessException {\r\n\t\tlog.info(\"calling Buyproxies\");\r\n\t\tCustomEntityInstance cei = (CustomEntityInstance)parameters.get(\"CONTEXT_ENTITY\");\r\n\t\tString pid=cei.getCfValues().getCfValue(\"code\").getStringValue();\r\n\t\tString proxyGroupUuid = cei.getUuid();\r\n\t\tPROXY_GROUP proxyGroup = null;\r\n\t\ttry {\r\n\t\t\tproxyGroup=crossStorageApi.find(defaultRepo, proxyGroupUuid, PROXY_GROUP.class);;\r\n\t\t} catch (EntityDoesNotExistsException e){\r\n\t\t\tlog.error(\"Cant load proxy group\");\r\n\t\t\te.printStackTrace();\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tproxyGroup.setUuid(proxyGroupUuid);\r\n        PROXY_PROVIDER proxyProvider = (PROXY_PROVIDER) parameters.get(\"proxy_provider\");\r\n\t\tString tocken = proxyProvider.getToken();\r\n\t\tResteasyClientBuilder builder= new ResteasyClientBuilder();\r\n        Client client = builder.build();\r\n        WebTarget target = client.target(\"http://api.buyproxies.org/?a=showProxies&key=\"+tocken+\"&pid=\"+pid);\r\n\t\tResponse response= target.request().get();\r\n\t\tString value = response.readEntity(String.class);\r\n\t\tlog.info(\"response  :\"+value);\r\n\t\tlog.debug(\"response status : {}\",response.getStatus());\r\n\t\tString login=null,password=null;\r\n      \r\n      \tif (response.getStatus() < 300){\r\n\t\t\ttry (BufferedReader br = new BufferedReader(new StringReader(value))) {\r\n\t\t\t\t// CSV file delimiter\r\n\t\t\t\tString DELIMITER = \":\";\r\n\t\t\t\t// read the file line by line\r\n\t\t\t\tString line;\r\n\t\t\t\twhile ((line = br.readLine()) != null) {\r\n\t\t\t\t\t// convert line into columns\r\n\t\t\t\t\tString[] columns = line.split(DELIMITER);\r\n\t\t\t\t\tPROXY proxy = new PROXY();\r\n            \t\tproxy.setUuid(columns[0]);\r\n\t\t\t\t\tproxy.setGroup(proxyGroup);\r\n\t\t\t\t\tproxy.setIp(columns[0]);\r\n\t\t\t\t\tproxy.setPort(Long.parseLong(columns[1]));\r\n\t\t\t\t\tlogin=columns[2];\r\n\t\t\t\t\tpassword=columns[3];\r\n\t\t\t\t\tproxy.setProvider(proxyProvider);\r\n            \t\tlog.info(\"proxy: {} provider:{}\",proxy.getUuid());\r\n            \t\ttry {\r\n            \t\t\tcrossStorageApi.createOrUpdate(defaultRepo,proxy);\r\n            \t\t} catch(Exception ex){\r\n              \t\t\tlog.error(\"error creating proxy {} :{}\",proxy.getUuid(),ex.getMessage());\r\n            \t\t}\r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t\t} catch (IOException ex) {\r\n\t\t\t\tex.printStackTrace();\r\n\t\t\t}\r\n\t\t\tif(login!=null){\r\n\t\t\t\tproxyGroup.setUsername(login);\r\n\t\t\t\tproxyGroup.setPassword(password);\r\n\t\t\t\ttry {\r\n\t\t\t\t\tcrossStorageApi.createOrUpdate(defaultRepo,proxyGroup);\r\n\t\t\t\t} catch(Exception ex){\r\n\t\t\t\t\t  log.error(\"error updating proxygroup {} :{}\",proxyGroup.getUuid(),ex.getMessage());\r\n\t\t\t\t}\r\n\t\t\t}\r\n            \r\n          \r\n      }\r\n      response.close();\r\n\t}\r\n\t\r\n}",
      "executionRoles" : [ ],
      "sourcingRoles" : [ ],
      "mavenDependencies" : [ ],
      "importScriptInstances" : [ {
        "active" : true,
        "code" : "com.webdrone.proxy.ProxyActionHandler",
        "description" : "Scirpt handing all actions that can be executed on proxy, proxy provider or proxy group",
        "inputs" : [ ],
        "outputs" : [ ],
        "generateOutputs" : false,
        "type" : "JAVA",
        "transactionType" : "SAME",
        "script" : "package com.webdrone.proxy;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\n//import javax.inject.Inject;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.meveo.service.script.Script;\r\nimport org.meveo.service.script.ScriptInstanceService;\r\nimport org.meveo.service.script.ScriptInterface;\r\nimport org.meveo.admin.exception.BusinessException;\r\nimport org.meveo.model.customEntities.CustomEntityInstance;\r\nimport org.meveo.model.persistence.CEIUtils;\r\nimport org.meveo.model.customEntities.PROXY_PROVIDER;\r\nimport org.meveo.service.storage.RepositoryService;\r\nimport org.meveo.model.storage.Repository;\r\nimport org.meveo.api.persistence.CrossStorageApi;\r\nimport org.meveo.api.exception.EntityDoesNotExistsException;\r\n\r\npublic class ProxyActionHandler extends Script {\r\n\t\r\n    private static final Logger log = LoggerFactory.getLogger(ProxyActionHandler.class);\r\n    \r\n    private ScriptInstanceService scriptInstanceService= getCDIBean(ScriptInstanceService.class);\r\n    private CrossStorageApi crossStorageApi = getCDIBean(CrossStorageApi.class);\r\n\tprivate RepositoryService repositoryService = getCDIBean(RepositoryService.class);\r\n\t//@Inject\r\n    private Repository defaultRepo = repositoryService.findDefaultRepository();\r\n\r\n\t\r\n\t@Override\r\n\tpublic void execute(Map<String, Object> parameters) throws BusinessException {\r\n\t\tlog.info(\"calling ProxyActionHandler\");\r\n        String actionCode = (String)parameters.get(\"CONTEXT_ACTION\");\r\n        String output=\"\";\r\n\t\tif(parameters.containsKey(\"CONTEXT_ENTITY\")){\r\n\t\t\t//action called on a specific custom entity instance\r\n\t\t\tCustomEntityInstance cei = (CustomEntityInstance)parameters.get(\"CONTEXT_ENTITY\");\r\n\t\t\tMap<String,Object> cftMap=cei.getCfValuesAsValues();\r\n\t\t\tlog.info(\"proxyProvider=\"+cftMap.get(\"provider\"));\r\n\t\t\tString proxyProviderUuid = ((CustomEntityInstance)cftMap.get(\"provider\")).getUuid();\r\n\t\t\tlog.info(\"proxyProviderUuid=\"+proxyProviderUuid);\r\n\t\t\ttry {\r\n\t\t\t\tPROXY_PROVIDER proxyProvider = crossStorageApi.find(defaultRepo, proxyProviderUuid, PROXY_PROVIDER.class);\r\n\t\t\t\ttry{\r\n\t\t\t\t\tScriptInterface apiScript = scriptInstanceService.getScriptInterface(proxyProvider.getApiScriptCode());\r\n\t\t\t\t    parameters.put(\"proxy_provider\",proxyProvider);\r\n\t\t\t\t    apiScript.execute(parameters);\r\n                } catch (Exception ex){\r\n                    output+=\"Cant find proxy provider script,\";\r\n                    ex.printStackTrace();\r\n                }\r\n\t\t\t} catch (EntityDoesNotExistsException e){\r\n\t\t\t\toutput+=\"Cant load proxy provider,\";\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t//action called on a list of custom entity instances\r\n\t\t}\r\n        output+=\" action:\"+actionCode;\r\n\t\tlog.info(\"output:\"+output);\r\n        parameters.put(\"RESULT_GUI_MESSAGE\",output);\r\n\t}\r\n\r\n\tvoid listProxyGroups(){\r\n\r\n\t}\r\n\t\r\n}",
        "executionRoles" : [ ],
        "sourcingRoles" : [ ],
        "mavenDependencies" : [ ],
        "importScriptInstances" : [ ]
      } ]
    }
  }, {
    "dtoClassName" : "org.meveo.api.dto.ScriptInstanceDto",
    "dtoData" : {
      "active" : true,
      "code" : "org.meveo.script.ScalewayServerCreationScript",
      "description" : "create scaleway server",
      "inputs" : [ ],
      "outputs" : [ {
        "name" : "entityClass",
        "type" : "Class<SERVER>",
        "description" : null
      } ],
      "generateOutputs" : false,
      "type" : "JAVA",
      "transactionType" : "SAME",
      "script" : "package org.meveo.script;\r\n\r\nimport java.util.Map;\r\n\r\nimport org.meveo.service.script.Script;\r\nimport org.meveo.admin.exception.BusinessException;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.meveo.service.storage.RepositoryService;\r\nimport org.meveo.api.persistence.CrossStorageApi;\r\nimport org.meveo.model.customEntities.SERVER;\r\nimport org.meveo.model.customEntities.CrudEventListenerScript;\r\n\r\npublic class ScalewayServerCreationScript extends Script implements CrudEventListenerScript<SERVER> {\r\n    private static final Logger log = LoggerFactory.getLogger(ScalewayServerCreationScript.class);\r\n\r\n\tprivate CrossStorageApi crossStorageApi;\r\n\tprivate RepositoryService rService;\r\n\r\n\tpublic ScalewayServerCreationScript() {\r\n\t\tcrossStorageApi = getCDIBean(CrossStorageApi.class);\r\n\t\trService = getCDIBean(RepositoryService.class);\r\n\t}\r\n\r\n\tpublic Class<SERVER> getEntityClass() {\r\n\t\treturn SERVER.class;\r\n\t}\r\n\r\n\t/**\r\n\t * Called just before entity persistence\r\n\t * \r\n\t * @param entity entity being persisted\r\n\t */\r\n\tpublic void prePersist(SERVER entity) {\r\n\t\tlog.info(\"prePersist \"+entity);\r\n\t}\r\n\r\n\t/**\r\n\t * Called just before entity update\r\n\t * \r\n\t * @param entity entity being updated\r\n\t */\r\n\tpublic void preUpdate(SERVER entity) {\r\n\t\tlog.info(\"preUpdate \"+entity);\r\n\t}\r\n\r\n\t/**\r\n\t * Called just before entity removal\r\n\t * \r\n\t * @param entity entity being removed\r\n\t */\r\n\tpublic void preRemove(SERVER entity) {\r\n\t\tlog.info(\"preRemove \"+entity);\r\n\t}\r\n\r\n\t/**\r\n\t * Called just after entity persistence\r\n\t * \r\n\t * @param entity persisted entity\r\n\t */\r\n\tpublic void postPersist(SERVER entity) {\r\n\t\tlog.info(\"postPersist \"+entity);\r\n\t}\r\n\r\n\t/**\r\n\t * Called just after entity update\r\n\t * \r\n\t * @param entity updated entity\r\n\t */\r\n\tpublic void postUpdate(SERVER entity) {\r\n\t\tlog.info(\"postUpdate \"+entity);\r\n\t}\r\n\r\n\t/**\r\n\t * Called just after entity removal\r\n\t * \r\n\t * @param entity removed entity\r\n\t */\r\n\tpublic void postRemove(SERVER entity) {\r\n\t\tlog.info(\"postRemove \"+entity);\r\n\t}\r\n}",
      "executionRoles" : [ ],
      "sourcingRoles" : [ ],
      "mavenDependencies" : [ ],
      "importScriptInstances" : [ ]
    }
  }, {
    "dtoClassName" : "org.meveo.api.dto.CustomEntityInstanceDto",
    "dtoData" : {
      "code" : "23940bfe-7a6e-487b-843a-9cae760e2e7e",
      "cetCode" : "PROXY_PROVIDER",
      "disabled" : false,
      "customFields" : {
        "customField" : [ {
          "code" : "apiScriptCode",
          "stringValue" : "com.webdrone.proxy.provider.Buyproxies",
          "empty" : false
        }, {
          "code" : "domain",
          "stringValue" : "buyproxies.org",
          "empty" : false
        }, {
          "code" : "name",
          "stringValue" : "buyproxies",
          "empty" : false
        }, {
          "code" : "token",
          "stringValue" : "2892b15c0f33fc315b840b95ed5ec7c8",
          "empty" : false
        } ],
        "inheritedCustomField" : [ ],
        "empty" : false
      }
    }
  }, {
    "dtoClassName" : "org.meveo.api.dto.EntityCustomActionDto",
    "dtoData" : {
      "code" : "LIST_SERVER",
      "description" : "List servers",
      "appliesTo" : "CE_SERVICE_PROVIDER",
      "applicableOnEl" : "#{entity.getCfValuesAsValues().get(\"CODE\") eq 'SCALEWAY'}",
      "label" : "List Servers",
      "script" : "org.meveo.script.ListScalewayServersScript",
      "applicableToEntityList" : false,
      "applicableToEntityInstance" : true
    }
  }, {
    "dtoClassName" : "org.meveo.api.dto.CustomEntityCategoryDto",
    "dtoData" : {
      "code" : "INFRA",
      "name" : "Infrastructure"
    }
  }, {
    "dtoClassName" : "org.meveo.api.dto.CustomEntityInstanceDto",
    "dtoData" : {
      "code" : "2e681256-e9fe-44dc-b9b9-392c4f247eb4",
      "cetCode" : "CREDENTIAL",
      "disabled" : false,
      "customFields" : {
        "customField" : [ {
          "code" : "CREDIT",
          "empty" : true
        }, {
          "code" : "DOMAIN",
          "stringValue" : "api.scaleway.com",
          "empty" : false
        }, {
          "code" : "LAST_CONNECTION",
          "empty" : true
        }, {
          "code" : "TOKEN_EXPIRY",
          "empty" : true
        }, {
          "code" : "AUTHENTICATION_TYPE",
          "stringValue" : "HEADER",
          "empty" : false
        }, {
          "code" : "PRIVATE_KEY",
          "empty" : true
        }, {
          "code" : "PUBLIC_KEY",
          "empty" : true
        }, {
          "code" : "HEADER_VALUE",
          "empty" : true
        }, {
          "code" : "REFRESH_TOKEN",
          "empty" : true
        }, {
          "code" : "HEADER_KEY",
          "stringValue" : "X-API-KEY",
          "empty" : false
        }, {
          "code" : "STATUS",
          "stringValue" : "ACTIVE",
          "empty" : false
        }, {
          "code" : "PASSWORD",
          "empty" : true
        }, {
          "code" : "USERNAME",
          "stringValue" : "manaty",
          "empty" : false
        }, {
          "code" : "TOKEN",
          "stringValue" : "55303cf3-bc35-4e58-98d4-57ea8ade22e2",
          "empty" : false
        } ],
        "inheritedCustomField" : [ ],
        "empty" : false
      }
    }
  }, {
    "dtoClassName" : "org.meveo.api.dto.CustomEntityTemplateDto",
    "dtoData" : {
      "code" : "PROXY_PROVIDER",
      "name" : "Proxy provider",
      "description" : "provider of dedicated proxies",
      "customEntityCategoryCode" : "INFRA",
      "availableStorages" : [ "SQL" ],
      "sqlStorageConfiguration" : {
        "storeAsTable" : true
      },
      "samples" : [ ],
      "audited" : false,
      "fields" : [ {
        "code" : "apiScriptCode",
        "description" : "provisionning API Script",
        "fieldType" : "STRING",
        "accountLevel" : "CE_PROXY_PROVIDER",
        "appliesTo" : "CE_PROXY_PROVIDER",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "maxValue" : 255,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Proxy provider:0;field:3",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : false,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      }, {
        "code" : "domain",
        "description" : "Domain name",
        "fieldType" : "STRING",
        "accountLevel" : "CE_PROXY_PROVIDER",
        "appliesTo" : "CE_PROXY_PROVIDER",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "maxValue" : 255,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Proxy provider:0;field:1",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : true,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      }, {
        "code" : "name",
        "description" : "name",
        "fieldType" : "STRING",
        "accountLevel" : "CE_PROXY_PROVIDER",
        "appliesTo" : "CE_PROXY_PROVIDER",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : true,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : false,
        "hideOnNew" : false,
        "maxValue" : 255,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Proxy provider:0;field:0",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : true,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      }, {
        "code" : "token",
        "description" : "API token",
        "fieldType" : "STRING",
        "accountLevel" : "CE_PROXY_PROVIDER",
        "appliesTo" : "CE_PROXY_PROVIDER",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "maxValue" : 255,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Proxy provider:0;field:2",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : false,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      } ],
      "actions" : [ ]
    }
  }, {
    "dtoClassName" : "org.meveo.api.dto.ScriptInstanceDto",
    "dtoData" : {
      "active" : true,
      "code" : "org.meveo.script.ListScalewayServersScript",
      "description" : "list scaleway servers",
      "inputs" : [ ],
      "outputs" : [ ],
      "generateOutputs" : false,
      "type" : "JAVA",
      "transactionType" : "SAME",
      "script" : "package org.meveo.script;\r\n\r\nimport java.util.Map;\r\n\r\nimport org.meveo.service.script.Script;\r\nimport org.meveo.admin.exception.BusinessException;\r\nimport org.meveo.api.exception.BusinessApiException;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.meveo.model.customEntities.CustomEntityInstance;\r\nimport org.jboss.resteasy.client.jaxrs.ResteasyClientBuilder;\r\nimport javax.ws.rs.client.*;\r\nimport javax.ws.rs.core.*;\r\nimport com.google.gson.*;\r\nimport java.util.Date;\r\nimport java.util.List;\r\nimport org.meveo.model.customEntities.SERVICE_PROVIDER;\r\nimport org.meveo.model.customEntities.SERVER;\r\nimport org.meveo.model.customEntities.CREDENTIAL;\r\nimport org.meveo.service.storage.RepositoryService;\r\nimport org.meveo.model.storage.Repository;\r\nimport org.meveo.api.persistence.CrossStorageApi;\r\n\r\npublic class ListScalewayServersScript extends Script {\r\n\t\r\n    private static final Logger log = LoggerFactory.getLogger(ListScalewayServersScript.class);\r\n    private CrossStorageApi crossStorageApi = getCDIBean(CrossStorageApi.class);\r\n\tprivate RepositoryService repositoryService = getCDIBean(RepositoryService.class);\r\n    private Repository defaultRepo = repositoryService.findDefaultRepository();\r\n  \r\n    private SERVICE_PROVIDER getProvider(String code){\r\n      return crossStorageApi.find(defaultRepo, SERVICE_PROVIDER.class)\r\n    \t\t.by(\"CODE\", code)\r\n    \t\t.getResult();\r\n    }\r\n      \r\n    private CREDENTIAL getCredential(String domain){\r\n      List<CREDENTIAL> matchigCredentials = crossStorageApi.find(defaultRepo, CREDENTIAL.class)\r\n                .by(\"DOMAIN\", domain)\r\n\t\t\t\t.getResults();\r\n      if(matchigCredentials.size()>0){\r\n        return matchigCredentials.get(0);\r\n      } else {\r\n        return null;\r\n      }\r\n    }\r\n  \r\n\t@Override\r\n\tpublic void execute(Map<String, Object> parameters) throws BusinessException {\r\n\t  log.info(\"calling ListScalewayServersScript\");\r\n      SERVICE_PROVIDER scaleway=null;\r\n      try {\r\n        scaleway = getProvider(\"SCALEWAY\");\r\n      } catch(Exception e){\r\n        throw new BusinessException(e);\r\n      }\r\n      String domain=\"api.scaleway.com\";\r\n      CREDENTIAL credential  = getCredential(domain);\r\n      if(credential==null){\r\n        throw new BusinessException(\"No credential found for \"+domain);\r\n      } else {\r\n        log.info(\"using credential {} with username {}\",credential.getUuid(),credential.getUSERNAME());\r\n      }\r\n      ResteasyClientBuilder builder= new ResteasyClientBuilder();\r\n      Client client = builder.build();\r\n      WebTarget target = client.target(\"https://\"+domain+\"/instance/v1/zones/fr-par-1/servers\");\r\n      \r\n      Response response= target.request().header(credential.getHEADER_KEY(), credential.getHEADER_VALUE()).get();\r\n      String value = response.readEntity(String.class);\r\n      log.info(\"response  :\"+value);\r\n      log.debug(\"response status : {}\",response.getStatus());\r\n      \r\n      if (response.getStatus() < 300){\r\n          JsonArray rootArray = new JsonParser().parse(value).getAsJsonObject().getAsJsonArray(\"servers\");\r\n          //log.debug(\"rootArray: {}\",rootArray);\r\n          /*if(rootObject.get(\"servers\")!=JsonNull.INSTANCE){\r\n            Object servers = rootObject.get(\"servers\");\r\n            log.info(\"received servers:{}\",servers);\r\n          }*/\r\n          for(JsonElement element:rootArray){\r\n            JsonObject serverObj = element.getAsJsonObject();\r\n            SERVER server = new SERVER();\r\n            server.setUuid(serverObj.get(\"id\").getAsString());\r\n            server.setINSTANCE_NAME(serverObj.get(\"name\").getAsString());\r\n            server.setPROVIDER(scaleway);\r\n            log.info(\"server: {} provider:{}\",server.getUuid(),server.getPROVIDER().getUuid());\r\n            try {\r\n            \tcrossStorageApi.createOrUpdate(defaultRepo,server);\r\n            } catch(Exception ex){\r\n              log.error(\"error creating server {} :{}\",server.getUuid(),ex.getMessage());\r\n            }\r\n          }\r\n      }\r\n      response.close();\r\n\t}\r\n\t\r\n}",
      "executionRoles" : [ ],
      "sourcingRoles" : [ ],
      "mavenDependencies" : [ ],
      "importScriptInstances" : [ ]
    }
  }, {
    "dtoClassName" : "org.meveo.api.dto.CustomEntityTemplateDto",
    "dtoData" : {
      "code" : "SERVER",
      "name" : "Server",
      "description" : "Server ",
      "crudEventListenerScript" : "org.meveo.script.ScalewayServerCreationScript",
      "customEntityCategoryCode" : "INFRA",
      "availableStorages" : [ "SQL" ],
      "sqlStorageConfiguration" : {
        "storeAsTable" : true
      },
      "samples" : [ ],
      "audited" : false,
      "fields" : [ {
        "code" : "CREATION_DATE",
        "description" : "Creation date",
        "fieldType" : "DATE",
        "accountLevel" : "CE_SERVER",
        "appliesTo" : "CE_SERVER",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Server:0;field:6",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : false,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      }, {
        "code" : "IMAGE",
        "description" : "Image",
        "fieldType" : "STRING",
        "accountLevel" : "CE_SERVER",
        "appliesTo" : "CE_SERVER",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "maxValue" : 255,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Server:0;field:3",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : false,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      }, {
        "code" : "INSTANCE_NAME",
        "description" : "Instance name",
        "fieldType" : "STRING",
        "accountLevel" : "CE_SERVER",
        "appliesTo" : "CE_SERVER",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "maxValue" : 255,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Server:0;field:1",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : true,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      }, {
        "code" : "LAST_UPDATE",
        "description" : "Last update",
        "fieldType" : "DATE",
        "accountLevel" : "CE_SERVER",
        "appliesTo" : "CE_SERVER",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Server:0;field:7",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : false,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      }, {
        "code" : "ORGANIZATION",
        "description" : "Organization",
        "fieldType" : "STRING",
        "accountLevel" : "CE_SERVER",
        "appliesTo" : "CE_SERVER",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "maxValue" : 255,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Server:0;field:4",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : false,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      }, {
        "code" : "PROVIDER",
        "description" : "Server provider",
        "fieldType" : "ENTITY",
        "accountLevel" : "CE_SERVER",
        "appliesTo" : "CE_SERVER",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "entityClazz" : "org.meveo.model.customEntities.CustomEntityTemplate - SERVICE_PROVIDER",
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Server:0;field:0",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : true,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "entityClazzCetCode" : "SERVICE_PROVIDER",
        "matrixColumns" : [ ]
      }, {
        "code" : "STATUS",
        "description" : "Status",
        "fieldType" : "STRING",
        "accountLevel" : "CE_SERVER",
        "appliesTo" : "CE_SERVER",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "maxValue" : 50,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Server:0;field:8",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : false,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      }, {
        "code" : "TYPE",
        "description" : "Type",
        "fieldType" : "STRING",
        "accountLevel" : "CE_SERVER",
        "appliesTo" : "CE_SERVER",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "maxValue" : 255,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Server:0;field:2",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : true,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      }, {
        "code" : "ZONE",
        "description" : "Zone",
        "fieldType" : "STRING",
        "accountLevel" : "CE_SERVER",
        "appliesTo" : "CE_SERVER",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "maxValue" : 50,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Server:0;field:5",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : true,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      } ],
      "actions" : [ ]
    }
  }, {
    "dtoClassName" : "org.meveo.api.dto.CustomEntityInstanceDto",
    "dtoData" : {
      "code" : "SCALEWAY",
      "cetCode" : "SERVICE_PROVIDER",
      "disabled" : false,
      "customFields" : {
        "customField" : [ {
          "code" : "AUTH_HEADER",
          "stringValue" : "X-Auth-Token",
          "empty" : false
        }, {
          "code" : "TYPES",
          "mapValue" : {
            "DEV1-S" : {
              "value" : "x86_64 2c 2g 20g 2.99eur",
              "empty" : false
            },
            "DEV1-M" : {
              "value" : "x86_64 3c 4g 40g 7.99eur",
              "empty" : false
            }
          },
          "empty" : true
        }, {
          "code" : "CODE",
          "stringValue" : "SCALEWAY",
          "empty" : false
        }, {
          "code" : "STATUS",
          "empty" : true
        }, {
          "code" : "DESCRIPTION",
          "stringValue" : "Scaleway",
          "empty" : false
        }, {
          "code" : "IMAGES",
          "empty" : true
        }, {
          "code" : "ORGANIZATIONS",
          "mapValue" : {
            "7f0540a5-ca54-4484-9323-b60e080dfa51" : {
              "value" : "Manaty",
              "empty" : false
            }
          },
          "empty" : true
        }, {
          "code" : "AUTH_VALUE_PREFIX",
          "empty" : true
        }, {
          "code" : "AUTH_VALUE_KEY",
          "stringValue" : "55303cf3-bc35-4e58-98d4-57ea8ade22e2",
          "empty" : false
        }, {
          "code" : "ZONES",
          "mapValue" : {
            "fr-par-1" : {
              "value" : "Paris",
              "empty" : false
            }
          },
          "empty" : true
        } ],
        "inheritedCustomField" : [ ],
        "empty" : false
      }
    }
  }, {
    "dtoClassName" : "org.meveo.api.dto.CustomEntityTemplateDto",
    "dtoData" : {
      "code" : "SERVICE_PROVIDER",
      "name" : "Server provider",
      "description" : "Server provider",
      "customEntityCategoryCode" : "INFRA",
      "availableStorages" : [ "SQL" ],
      "sqlStorageConfiguration" : {
        "storeAsTable" : true
      },
      "samples" : [ ],
      "audited" : false,
      "fields" : [ {
        "code" : "AUTH_HEADER",
        "description" : "Authorization header name",
        "fieldType" : "STRING",
        "accountLevel" : "CE_SERVICE_PROVIDER",
        "appliesTo" : "CE_SERVICE_PROVIDER",
        "defaultValue" : "Authorization",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "maxValue" : 255,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Authorisation:1;field:0",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : false,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      }, {
        "code" : "AUTH_VALUE_KEY",
        "description" : "Authorization value key, like API Key, token",
        "fieldType" : "STRING",
        "accountLevel" : "CE_SERVICE_PROVIDER",
        "appliesTo" : "CE_SERVICE_PROVIDER",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "maxValue" : 500,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Authorisation:1;field:2",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : false,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      }, {
        "code" : "AUTH_VALUE_PREFIX",
        "description" : "Authorization value prefix",
        "fieldType" : "STRING",
        "accountLevel" : "CE_SERVICE_PROVIDER",
        "appliesTo" : "CE_SERVICE_PROVIDER",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "maxValue" : 255,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Authorisation:1;field:1",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : false,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      }, {
        "code" : "CODE",
        "description" : "Code",
        "fieldType" : "STRING",
        "accountLevel" : "CE_SERVICE_PROVIDER",
        "appliesTo" : "CE_SERVICE_PROVIDER",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "maxValue" : 50,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Configuration:0;field:0",
        "identifier" : true,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : true,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      }, {
        "code" : "DESCRIPTION",
        "description" : "Description",
        "fieldType" : "STRING",
        "accountLevel" : "CE_SERVICE_PROVIDER",
        "appliesTo" : "CE_SERVICE_PROVIDER",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "maxValue" : 255,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Configuration:0;field:1",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : false,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      }, {
        "code" : "IMAGES",
        "description" : "Images",
        "fieldType" : "STRING",
        "accountLevel" : "CE_SERVICE_PROVIDER",
        "appliesTo" : "CE_SERVICE_PROVIDER",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "MAP",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "maxValue" : 255,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Server Types:2;field:1",
        "identifier" : false,
        "mapKeyType" : "STRING",
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : false,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      }, {
        "code" : "ORGANIZATIONS",
        "description" : "Organizations",
        "fieldType" : "STRING",
        "accountLevel" : "CE_SERVICE_PROVIDER",
        "appliesTo" : "CE_SERVICE_PROVIDER",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "MAP",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "maxValue" : 255,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Configuration:0;field:2",
        "identifier" : false,
        "mapKeyType" : "STRING",
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : false,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      }, {
        "code" : "STATUS",
        "description" : "Status",
        "fieldType" : "STRING",
        "accountLevel" : "CE_SERVICE_PROVIDER",
        "appliesTo" : "CE_SERVICE_PROVIDER",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "LIST",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "maxValue" : 50,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Configuration:0;field:4",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : false,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      }, {
        "code" : "TYPES",
        "description" : "Types",
        "fieldType" : "STRING",
        "accountLevel" : "CE_SERVICE_PROVIDER",
        "appliesTo" : "CE_SERVICE_PROVIDER",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "MAP",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "maxValue" : 255,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Server Types:2;field:0",
        "identifier" : false,
        "mapKeyType" : "STRING",
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : false,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      }, {
        "code" : "ZONES",
        "description" : "Zones",
        "fieldType" : "STRING",
        "accountLevel" : "CE_SERVICE_PROVIDER",
        "appliesTo" : "CE_SERVICE_PROVIDER",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "MAP",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "maxValue" : 50,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Configuration:0;field:3",
        "identifier" : false,
        "mapKeyType" : "STRING",
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : false,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      } ],
      "actions" : [ {
        "code" : "LIST_SERVER",
        "description" : "List servers",
        "appliesTo" : "CE_SERVICE_PROVIDER",
        "applicableOnEl" : "#{entity.getCfValuesAsValues().get(\"CODE\") eq 'SCALEWAY'}",
        "label" : "List Servers",
        "script" : "org.meveo.script.ListScalewayServersScript",
        "applicableToEntityList" : false,
        "applicableToEntityInstance" : true
      } ]
    }
  }, {
    "dtoClassName" : "org.meveo.api.dto.CustomEntityTemplateDto",
    "dtoData" : {
      "code" : "PROXY_GROUP",
      "name" : "Proxy group",
      "description" : "Proxies of a provider grouped for provisionning",
      "customEntityCategoryCode" : "INFRA",
      "availableStorages" : [ "SQL" ],
      "sqlStorageConfiguration" : {
        "storeAsTable" : true
      },
      "samples" : [ ],
      "audited" : false,
      "fields" : [ {
        "code" : "code",
        "description" : "group code used for provisionning",
        "fieldType" : "STRING",
        "accountLevel" : "CE_PROXY_GROUP",
        "appliesTo" : "CE_PROXY_GROUP",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "maxValue" : 255,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Proxy group:0;field:1",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : true,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      }, {
        "code" : "creationDate",
        "description" : "creation date",
        "fieldType" : "DATE",
        "accountLevel" : "CE_PROXY_GROUP",
        "appliesTo" : "CE_PROXY_GROUP",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Proxy group:0;field:2",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : true,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      }, {
        "code" : "deletionDate",
        "description" : "Deletion date",
        "fieldType" : "DATE",
        "accountLevel" : "CE_PROXY_GROUP",
        "appliesTo" : "CE_PROXY_GROUP",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Proxy group:0;field:6",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : false,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      }, {
        "code" : "location",
        "description" : "location of the proxies",
        "fieldType" : "STRING",
        "accountLevel" : "CE_PROXY_GROUP",
        "appliesTo" : "CE_PROXY_GROUP",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "maxValue" : 255,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Proxy group:0;field:3",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : true,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      }, {
        "code" : "password",
        "description" : "proxies auth password",
        "fieldType" : "SECRET",
        "accountLevel" : "CE_PROXY_GROUP",
        "appliesTo" : "CE_PROXY_GROUP",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "maxValue" : 255,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Proxy group:0;field:5",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : false,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      }, {
        "code" : "provider",
        "description" : "provider",
        "fieldType" : "ENTITY",
        "accountLevel" : "CE_PROXY_GROUP",
        "appliesTo" : "CE_PROXY_GROUP",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : true,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "entityClazz" : "org.meveo.model.customEntities.CustomEntityTemplate - PROXY_PROVIDER",
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Proxy group:0;field:0",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : false,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "entityClazzCetCode" : "PROXY_PROVIDER",
        "matrixColumns" : [ ]
      }, {
        "code" : "username",
        "description" : "proxy auth username",
        "fieldType" : "STRING",
        "accountLevel" : "CE_PROXY_GROUP",
        "appliesTo" : "CE_PROXY_GROUP",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "maxValue" : 255,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Proxy group:0;field:4",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : false,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      } ],
      "actions" : [ {
        "code" : "listProxy",
        "description" : "List proxies of a group",
        "appliesTo" : "CE_PROXY_GROUP",
        "label" : "List proxies",
        "script" : "com.webdrone.proxy.ProxyActionHandler",
        "applicableToEntityList" : false,
        "applicableToEntityInstance" : true
      } ]
    }
  }, {
    "dtoClassName" : "org.meveo.api.dto.CustomEntityTemplateDto",
    "dtoData" : {
      "code" : "PROXY",
      "name" : "Proxy",
      "description" : "Proxy",
      "customEntityCategoryCode" : "INFRA",
      "availableStorages" : [ "SQL" ],
      "sqlStorageConfiguration" : {
        "storeAsTable" : true
      },
      "samples" : [ ],
      "audited" : false,
      "fields" : [ {
        "code" : "group",
        "description" : "group",
        "fieldType" : "ENTITY",
        "accountLevel" : "CE_PROXY",
        "appliesTo" : "CE_PROXY",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "entityClazz" : "org.meveo.model.customEntities.CustomEntityTemplate - PROXY_GROUP",
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Proxy:0;field:2",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : false,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "entityClazzCetCode" : "PROXY_GROUP",
        "matrixColumns" : [ ]
      }, {
        "code" : "ip",
        "description" : "ip v4 or v6",
        "fieldType" : "STRING",
        "accountLevel" : "CE_PROXY",
        "appliesTo" : "CE_PROXY",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "maxValue" : 50,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Proxy:0;field:0",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : true,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      }, {
        "code" : "port",
        "description" : "port",
        "fieldType" : "LONG",
        "accountLevel" : "CE_PROXY",
        "appliesTo" : "CE_PROXY",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Proxy:0;field:1",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : false,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      }, {
        "code" : "provider",
        "description" : "provider",
        "fieldType" : "ENTITY",
        "accountLevel" : "CE_PROXY",
        "appliesTo" : "CE_PROXY",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : true,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "entityClazz" : "org.meveo.model.customEntities.CustomEntityTemplate - PROXY_PROVIDER",
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Proxy:0;field:3",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : false,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "entityClazzCetCode" : "PROXY_PROVIDER",
        "matrixColumns" : [ ]
      }, {
        "code" : "status",
        "description" : "status",
        "fieldType" : "LIST",
        "accountLevel" : "CE_PROXY",
        "appliesTo" : "CE_PROXY",
        "defaultValue" : "ACTIVE",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : true,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : {
          "ACTIVE" : "Active",
          "INACTIVE" : "Inactive",
          "SUSPECT" : "Suspect"
        },
        "allowEdit" : true,
        "hideOnNew" : false,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Proxy:0;field:4",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : true,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      } ],
      "actions" : [ ]
    }
  }, {
    "dtoClassName" : "org.meveo.api.dto.CustomEntityTemplateDto",
    "dtoData" : {
      "code" : "FLEXIBLE_IP",
      "name" : "Flexible IP",
      "description" : "Flexible IP",
      "customEntityCategoryCode" : "INFRA",
      "availableStorages" : [ "SQL" ],
      "sqlStorageConfiguration" : {
        "storeAsTable" : false
      },
      "samples" : [ ],
      "audited" : false,
      "fields" : [ {
        "code" : "CREATION_DATE",
        "description" : "Creation date",
        "fieldType" : "DATE",
        "accountLevel" : "CE_FLEXIBLE_IP",
        "appliesTo" : "CE_FLEXIBLE_IP",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Flexible IP:0;field:4",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : false,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      }, {
        "code" : "LAST_UPDATE",
        "description" : "Last update",
        "fieldType" : "DATE",
        "accountLevel" : "CE_FLEXIBLE_IP",
        "appliesTo" : "CE_FLEXIBLE_IP",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Flexible IP:0;field:5",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : false,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      }, {
        "code" : "ORGANIZATION",
        "description" : "Organization",
        "fieldType" : "STRING",
        "accountLevel" : "CE_FLEXIBLE_IP",
        "appliesTo" : "CE_FLEXIBLE_IP",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "maxValue" : 255,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Flexible IP:0;field:1",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : false,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      }, {
        "code" : "SERVER",
        "description" : "Server",
        "fieldType" : "ENTITY",
        "accountLevel" : "CE_FLEXIBLE_IP",
        "appliesTo" : "CE_FLEXIBLE_IP",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "entityClazz" : "org.meveo.model.customEntities.CustomEntityTemplate - SERVER",
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Flexible IP:0;field:2",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : false,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "entityClazzCetCode" : "SERVER",
        "matrixColumns" : [ ]
      }, {
        "code" : "ZONE",
        "description" : "Zone",
        "fieldType" : "STRING",
        "accountLevel" : "CE_FLEXIBLE_IP",
        "appliesTo" : "CE_FLEXIBLE_IP",
        "useInheritedAsDefaultValue" : false,
        "storageType" : "SINGLE",
        "valueRequired" : false,
        "versionable" : false,
        "triggerEndPeriodEvent" : false,
        "listValues" : { },
        "allowEdit" : true,
        "hideOnNew" : false,
        "maxValue" : 50,
        "contentTypes" : [ ],
        "fileExtensions" : [ ],
        "saveOnExplorer" : false,
        "guiPosition" : "tab:Flexible IP:0;field:3",
        "identifier" : false,
        "storages" : [ "SQL" ],
        "samples" : [ ],
        "summary" : false,
        "audited" : false,
        "persisted" : true,
        "filter" : false,
        "unique" : false,
        "matrixColumns" : [ ]
      } ],
      "actions" : [ ]
    }
  } ],
  "moduleDependencies" : [ {
    "code" : "CREDENTIALS",
    "description" : "credentials",
    "currentVersion" : "1.1.0"
  } ],
  "moduleFiles" : [ ]
} ]